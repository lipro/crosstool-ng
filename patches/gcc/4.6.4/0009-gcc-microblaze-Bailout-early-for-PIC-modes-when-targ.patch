From 9d351adee2fa4f0b8f0b13380205198abf239daa Mon Sep 17 00:00:00 2001
From: Edgar E. Iglesias <edgar.iglesias@gmail.com>
Date: Sun, 21 Aug 2011 22:01:29 +0200
Subject: [PATCH 09/79] gcc-microblaze: Bailout early for PIC modes when target does not do PIC.

2011-08-21  Edgar E. Iglesias  <edgar.iglesias@gmail.com>

	* config/microblaze/linux.h (TARGET_SUPPORTS_PIC): Define as 1.
	* config/microblaze/microblaze.h (TARGET_SUPPORTS_PIC): Define
          as 0.
	* gcc/config/microblaze/microblaze.c (microblaze_option_override):
          Bail out early for PIC modes when target does not support PIC.

Signed-off-by: Edgar E. Iglesias <edgar.iglesias@gmail.com>
---
 gcc/config/microblaze/microblaze.h |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/gcc/config/microblaze/microblaze.h b/gcc/config/microblaze/microblaze.h
index 72f9395..55df0b4 100644
--- a/gcc/config/microblaze/microblaze.h
+++ b/gcc/config/microblaze/microblaze.h
@@ -61,6 +61,9 @@ extern enum pipeline_type microblaze_pipe;
 /* The default is to not support PIC.  */
 #define TARGET_SUPPORTS_PIC 0
 
+/* The default is to not support PIC.  */
+#define TARGET_SUPPORTS_PIC 0
+
 /* What is the default setting for -mcpu= . We set it to v4.00.a even though 
    we are actually ahead. This is safest version that has generate code 
    compatible for the original ISA */
-- 
1.7.1

