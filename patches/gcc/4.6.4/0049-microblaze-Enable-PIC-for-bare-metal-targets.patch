From 8805899e03370244165a360fcc6b6bf297efafd9 Mon Sep 17 00:00:00 2001
From: Edgar E. Iglesias <edgar.iglesias@gmail.com>
Date: Wed, 11 Apr 2012 19:08:49 +0200
Subject: [PATCH 49/79] microblaze: Enable PIC for bare-metal targets

Signed-off-by: Edgar E. Iglesias <edgar.iglesias@gmail.com>
---
 gcc/config/microblaze/microblaze.h |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

diff --git a/gcc/config/microblaze/microblaze.h b/gcc/config/microblaze/microblaze.h
index d4138c0..5764ea9 100755
--- a/gcc/config/microblaze/microblaze.h
+++ b/gcc/config/microblaze/microblaze.h
@@ -67,10 +67,7 @@ extern enum pipeline_type microblaze_pipe;
 #define TARGET_HAS_SWAP     (TARGET_REORDER && microblaze_has_swap)
 
 /* The default is to not support PIC.  */
-#define TARGET_SUPPORTS_PIC 0
-
-/* The default is to not support PIC.  */
-#define TARGET_SUPPORTS_PIC 0
+#define TARGET_SUPPORTS_PIC 1
 
 /* What is the default setting for -mcpu= . We set it to v4.00.a even though 
    we are actually ahead. This is safest version that has generate code 
-- 
1.7.1

