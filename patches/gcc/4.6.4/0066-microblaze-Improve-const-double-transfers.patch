From bec00f3057927c7e816b686ed8ae0d48f5d3d3c5 Mon Sep 17 00:00:00 2001
From: Edgar E. Iglesias <edgar.iglesias@gmail.com>
Date: Wed, 18 Jul 2012 13:12:32 +0200
Subject: [PATCH 66/79] microblaze: Improve const double transfers

Signed-off-by: Edgar E. Iglesias <edgar.iglesias@gmail.com>
---
 gcc/config/microblaze/microblaze.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

diff --git a/gcc/config/microblaze/microblaze.c b/gcc/config/microblaze/microblaze.c
index ec45706..b9a52d0 100755
--- a/gcc/config/microblaze/microblaze.c
+++ b/gcc/config/microblaze/microblaze.c
@@ -1451,8 +1451,7 @@ legitimate_const_operand_p (rtx x)
 
   if (GET_CODE (x) == CONST_DOUBLE)
     {
-      if ( microblaze_const_double_ok (x, GET_MODE (x)) ) return 0;
-      return 1;
+      return microblaze_const_double_ok (x, GET_MODE (x));
     }
 
    /* Handle Case of (const (plus unspec const_int)) */
-- 
1.7.1

